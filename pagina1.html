<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Razones para estar contigo</title>
    <style>
        body {
            font-family: 'Georgia', serif;
            text-align: center;
            background: linear-gradient(135deg, #fff0f5 0%, #ffe6ee 100%);
            margin: 0;
            padding: 0;
            color: #4a4a4a;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(135deg, #ff6f61 0%, #ff4757 100%);
            color: white;
            padding: 40px 20px;
            box-shadow: 0 4px 15px rgba(255, 79, 87, 0.3);
            position: relative;
        }

        header h1 {
            font-size: 3.5rem;
            margin: 0;
            font-family: 'Dancing Script', cursive;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        header p {
            font-size: 1.3rem;
            margin: 15px 0 0;
            opacity: 0.9;
        }

        #favoritos-btn {
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 12px 25px;
            background: #ffcc00;
            color: white;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 4px 10px rgba(255, 204, 0, 0.3);
        }

        #favoritos-btn:hover {
            transform: translateY(-2px);
            background: #ffb700;
        }

        section {
            margin: 30px auto;
            padding: 25px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 5px 25px rgba(255, 79, 87, 0.1);
            max-width: 800px;
        }

        textarea {
            width: 80%;
            height: 100px;
            margin: 15px 0;
            padding: 15px;
            border: 2px solid #ff6f61;
            border-radius: 15px;
            font-family: 'Georgia', serif;
            font-size: 1.1rem;
            color: #4a4a4a;
            resize: vertical;
        }

        button.principal {
            background: linear-gradient(135deg, #ff6f61 0%, #ff4757 100%);
            padding: 15px 35px;
            font-size: 1.2rem;
            border-radius: 30px;
            margin: 20px 0;
            transition: all 0.3s ease;
            color: white;
            border: none;
            cursor: pointer;
        }

        button.principal:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 79, 87, 0.3);
        }

        .nota {
            border: 2px solid #ff6f61;
            padding: 25px;
            margin: 25px 0;
            border-radius: 20px;
            background: white;
            position: relative;
            transition: all 0.3s ease;
            animation: aparecer 0.5s ease-out;
        }

        @keyframes aparecer {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .nota p {
            margin: 0;
            font-size: 1.2rem;
            color: #4a4a4a;
            line-height: 1.6;
        }

        .nota-acciones {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }

        .nota-acciones button {
            padding: 8px 20px;
            font-size: 1rem;
            border-radius: 20px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 5px;
            border: none;
            cursor: pointer;
        }

        .nota-acciones button.like {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
        }

        .nota-acciones button.fav {
            background: linear-gradient(135deg, #ffcc00 0%, #ffb700 100%);
            color: white;
        }

        .nota-acciones button.eliminar {
            background: linear-gradient(135deg, #ff3b2f 0%, #ff2a1f 100%);
            color: white;
        }

        .comentarios-section {
            margin-top: 25px;
            padding: 20px;
            background: #fff8f8;
            border-radius: 15px;
            border: 1px solid #ffd6d6;
        }

        .comentario-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .comentario-input input {
            flex: 1;
            padding: 12px;
            border: 2px solid #ff6f61;
            border-radius: 12px;
            font-size: 1rem;
        }

        .calificacion-corazones {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin: 10px 0;
        }

        .corazon-calificacion {
            font-size: 1.8rem;
            cursor: pointer;
            color: #ffd6d6;
            transition: all 0.2s ease;
        }

        .corazon-calificacion.active {
            color: #ff6f61;
            transform: scale(1.1);
        }

        .lista-comentarios {
            margin-top: 20px;
        }

        .comentario {
            padding: 15px;
            margin: 10px 0;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .comentario p {
            margin: 0 0 5px 0;
            color: #666;
        }

        .calificacion-comentario {
            display: flex;
            gap: 3px;
        }

        .calificacion-comentario span {
            color: #ff6f61;
            font-size: 1.2rem;
        }

        #favoritos-list {
            display: none;
            margin: 30px auto;
            max-width: 800px;
        }

        #favoritos-list.visible {
            display: block;
        }

        .favoritos {
            background: white;
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 5px 25px rgba(255, 79, 87, 0.1);
        }

        .favoritos h2 {
            color: #ff6f61;
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            margin: 0 0 20px 0;
        }

        .btn-volver {
            display: inline-block;
            margin: 30px 0;
            padding: 12px 25px;
            background: linear-gradient(135deg, #007bff 0%, #0056b3 100%);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            transition: all 0.3s ease;
        }

        .btn-volver:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 91, 187, 0.3);
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Georgia&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <h1>Razones para estar contigo</h1>
        <p id="descripcion">Aqu√≠ puedes escribir las razones por las que estamos juntos y compartirlas</p>
    </header>

    <button id="favoritos-btn" onclick="toggleFavoritos()">‚≠ê Favoritos</button>

    <section>
        <h2>A√±adir Nueva Raz√≥n</h2>
        <textarea id="nueva-razon" placeholder="Escribe tu raz√≥n aqu√≠..."></textarea>
        <button class="principal" onclick="agregarRazon()">üíñ Publicar Raz√≥n</button>

        <h2>Tus Razones</h2>
        <div id="razones-list"></div>
    </section>

    <div id="favoritos-list" class="favoritos">
        <h2>Tus Razones Favoritas</h2>
        <div id="favoritos-contenido"></div>
    </div>

    <a href="index.html" class="btn-volver">‚Üê Volver al inicio</a>

    <script>
        let razones = [];
        let favoritosVisible = false;

        function agregarRazon() {
            const texto = document.getElementById("nueva-razon").value;
            if (texto.trim() === "") return;

            const razon = {
                id: Date.now(),
                texto: texto,
                likes: 0,
                favorito: false,
                comentarios: []
            };

            razones.push(razon);
            document.getElementById("nueva-razon").value = "";
            renderizarRazones();
        }

        function renderizarRazones() {
            const lista = document.getElementById("razones-list");
            lista.innerHTML = "";

            razones.forEach(razon => {
                const div = document.createElement("div");
                div.classList.add("nota");
                div.innerHTML = `
                    <p>${razon.texto}</p>
                    <div class="nota-acciones">
                        <button class="like" onclick="darLike(${razon.id})">‚ù§Ô∏è ${razon.likes}</button>
                        <button class="fav" onclick="agregarFavorito(${razon.id})">${razon.favorito ? '‚òÖ' : '‚òÜ'} Favorito</button>
                        <button class="eliminar" onclick="eliminarRazon(${razon.id})">üóëÔ∏è Eliminar</button>
                    </div>
                    <div class="comentarios-section">
                        <div class="comentario-input">
                            <input type="text" id="comentario-${razon.id}" placeholder="A√±ade un comentario...">
                            <button class="principal" onclick="agregarComentario(${razon.id})">üíå Enviar</button>
                        </div>
                        <div class="calificacion-corazones" id="corazones-${razon.id}">
                            ${Array.from({length: 5}, (_, i) => 
                                `<span class="corazon-calificacion" 
                                      onclick="seleccionarCalificacion(${razon.id}, ${i + 1})"
                                      data-rating="${i + 1}">‚ù§</span>`
                            ).join('')}
                        </div>
                        <div class="lista-comentarios" id="comentarios-${razon.id}"></div>
                    </div>
                `;
                lista.appendChild(div);
                actualizarCorazones(razon.id, 0);
            });

            renderizarFavoritos();
        }

        function actualizarCorazones(razonId, calificacion) {
            const corazones = document.querySelectorAll(`#corazones-${razonId} .corazon-calificacion`);
            corazones.forEach((corazon, index) => {
                corazon.classList.toggle('active', index < calificacion);
            });
        }

        function seleccionarCalificacion(razonId, rating) {
            const razon = razones.find(r => r.id === razonId);
            razon.calificacionActual = rating;
            actualizarCorazones(razonId, rating);
        }

        function agregarComentario(razonId) {
            const razon = razones.find(r => r.id === razonId);
            const texto = document.getElementById(`comentario-${razonId}`).value;
            const calificacion = razon.calificacionActual || 0;

            if (texto.trim() === "" || calificacion === 0) return;

            razon.comentarios.push({
                texto,
                calificacion,
                fecha: new Date().toLocaleString()
            });

            document.getElementById(`comentario-${razonId}`).value = "";
            renderizarComentarios(razonId);
        }

        function renderizarComentarios(razonId) {
            const razon = razones.find(r => r.id === razonId);
            const contenedor = document.getElementById(`comentarios-${razonId}`);
            contenedor.innerHTML = "";

            razon.comentarios.forEach(comentario => {
                const div = document.createElement("div");
                div.classList.add("comentario");
                div.innerHTML = `
                    <p>"${comentario.texto}"</p>
                    <div class="calificacion-comentario">
                        ${Array.from({length: comentario.calificacion}, () => 
                            '<span>‚ù§</span>'
                        ).join('')}
                    </div>
                    <small>${comentario.fecha}</small>
                `;
                contenedor.appendChild(div);
            });
        }

        function darLike(id) {
            const razon = razones.find(r => r.id === id);
            razon.likes++;
            renderizarRazones();
        }

        function agregarFavorito(id) {
            const razon = razones.find(r => r.id === id);
            razon.favorito = !razon.favorito;
            renderizarRazones();
        }

        function eliminarRazon(id) {
            razones = razones.filter(r => r.id !== id);
            renderizarRazones();
        }

        function renderizarFavoritos() {
            const listaFav = document.getElementById("favoritos-contenido");
            listaFav.innerHTML = "";

            razones
                .filter(r => r.favorito)
                .forEach(razon => {
                    const div = document.createElement("div");
                    div.classList.add("nota");
                    div.innerHTML = `
                        <p>${razon.texto}</p>
                        <div class="nota-acciones">
                            <button class="like">‚ù§Ô∏è ${razon.likes}</button>
                        </div>
                    `;
                    listaFav.appendChild(div);
                });
        }

        function toggleFavoritos() {
            const listaFav = document.getElementById("favoritos-list");
            favoritosVisible = !favoritosVisible;
            listaFav.classList.toggle("visible", favoritosVisible);
        }
    </script>
</body>
</html>
